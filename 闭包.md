## 闭包 ##

---

**在了解闭包之前，我们需要知道一个非常重要的前置知识：作用域与词法作用域**

### 作用域 ###

---

**词法作用域是作用域的一种工作模型**

* 什么是作用域
**作用域就是一套规则，用于确定在何处以及如何让查找变量(标识符)的规则**

```javascript
function foo(){
	var a = 'weiwei'
	console.log(a)
	// 'weiwei'
}
foo()
```

看上面一段代码，输出一个a变量，a变量是有一行定义a变量的代码`var a = 'weiwei'`

```javascript
var b = 'weiwei3344'
function foo(){
	console.log(b)
	// 'weiwei3344'
}
foo
```

在输出b的时候，自己函数内部没有找到变量b，那么就在外层的全局中查找，找到了就停止查找并输出
可以理解为：第一段代码在函数作用域中找到变量a，第二段代码在全局作用域中找到b
简单来说，**作用域就是查找变量的地方**。如果在函数中找到该变量，就可以说在该函数作用域中找到了该变量。若是在全局中找到该变量，就可以说在全局作用域中找到了该变量

我们在查找b变量的时候，先在函数作用域中查找，没有找到。再去全局作用域中查找，有一个往外查找的过程，顺着一条两条从下往上查找变量。这链条，我们称为作用域链

### 作用域嵌套 ###

---

**函数作用域和全局函作用域**：函数作用域在全局作用域里面，而函数作用域中又可以继续嵌套函数作用域

![作用域嵌套](https://user-gold-cdn.xitu.io/2018/5/16/16364a28627cc95b?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)

用代码表示为
![作用域嵌套](https://user-gold-cdn.xitu.io/2018/5/16/16364a2862881338?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)